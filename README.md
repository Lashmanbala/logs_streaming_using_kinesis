# Logs Streaming Using Kinesis

## Overview

In this project, we use Amazon Kinesis Data Streams to capture and stream logs in real-time. The logs are ingested into the Kinesis stream and stored in s3 using Kinesis Data Firehose.

The logs are generated by a python script using Faker module.This solution is containerized using Docker for easy deployment, and an AWS Kinesis Agent is installed in the container to collect and push logs to the Kinesis stream.

## Architecture

1. **Log Generation:** Logs are generated by simulation in docker.
2. **Kinesis Agent:** The Kinesis Agent installed in an Amazon Linux-based Docker container captures these logs.
3. **Kinesis Firehose Data Stream:** Logs are pushed to a Kinesis Data Stream.
4. **Target:** Logs are stored in s3 bucket.

## Prerequisites

Before you begin, ensure you have the following installed:

- Docker installed on your local machine.
- AWS CLI configured with appropriate access credentials.
- AWS IAM user for kinesis agent with permission to push data to firehose data stream.

## Setup

1. **Clone the repository:**
    ```bash
    git clone https://github.com/Lashmanbala/logs_streaming_using_kinesis.git
    ```
2. **Configure AWS Credentials:**
   
   Configure your AWS credentials on your host machine to authenticate with AWS.
   And create a .env file like sample.env file in firehose_delivery_stream directory with your values
   
3. **Create Firehose Data Stream:**
   Run sripts to create firehose data stream
   ```bash
   cd logs_streaming_using_kinesis/firehose_delivery_stream
   pip3 install -t requirements.txt
   python3 app.py
   ```
   
4. **Configure Kinesis Agent:**

   Configure the logs_server/Agent.json file with proper AWS IAM user credentials
    
5. **Build the Docker image:**

   Ensure Docker is installed and running.
   Create a .env file like sample.env file in logs_server directory.

   Then build the image using:
    ```bash
    cd logs_streaming_using_kinesis/logs_server
    docker build -t logs-server .
    ```

6. **Run the container:**
    
   Start the container in interactive mode. Then run the python script to begin generating logs:
    ```bash
    docker run -it logs-server /bin/bash
    ```
   Insede the container:
   ```
   python3 generate_logs.py
   ```

## Usage

Once the container is up and running, logs generated by the script will be captured and streamed into the configured Kinesis stream.

## Contact
For any questions, issues, or suggestions, please feel free to contact the project maintainer:

GitHub: [Lashmanbala](https://github.com/Lashmanbala)

LinkedIn: [Lashmanbala](https://www.linkedin.com/in/lashmanbala/)
